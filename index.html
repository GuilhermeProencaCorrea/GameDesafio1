<!DOCTYPE html>
<html lang="pt">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GAME-D1</title>
<link rel="stylesheet" href="index.css">
</head>

<body style="background-color: black;">
    

    <h1>GAME-D1</h1>
    <audio autoplay loop src="./img/game-music-loop-2-144037.mp3"></audio>

    <div class="Gamemundo">
        <img src="./img/cactus.png" class="cacto">
        <img src="./img/personagem.gif" class="personagem">
        <span class="score"></span>
    </div>

    <button id="restart">RESTART</button>
    
    <script src="./index.js">
        {const personagem = document.querySelector('.personagem');
const cacto = document.querySelector('.cacto');
const score = document.querySelector(".score");
let conte = 0; 

const pulo = () => {
    personagem.classList.add('pulo');

    setTimeout(() => {

        personagem.classList.remove('pulo');
        
    }, 500);
}

const loop = setInterval(() => {

    const cactoPosição = cacto.offsetLeft;
    const personagemPosição = +window.getComputedStyle(personagem).bottom.replace('px','');
    
 
    if(cactoPosição <= 180 && cactoPosição > 0 && personagemPosição < 100){

        cacto.style.animation = 'none';
        cacto.style.left = `${cactoPosição}px`;

        personagem.style.animation = 'none';
        personagem.style.bottom = `${personagemPosição}px`;

        
        
        
        personagem.src = './img/morte.gif';
        personagem.style.width = '350px';
        personagem.style.marginleft = '22px auto' 
        personagem.style.marginheith = '22px'
        
        

        clearInterval(loop);
    }
    conte++;
    score.innerHTML = `score: ${conte}`;
    


},10);


document.addEventListener('keydown', pulo)

//Restart da página

const bRestart = document.querySelector("#restart")
bRestart.addEventListener('click',() => {
    location.reload()
});}
    </script>

</body>
</html>
